{
  "title": "Accessible router links in Angular",
  "publishedAt": "2023-06-09",
  "summary": "About the routerLink directive and how to make sure it's accessible",
  "tags": [
    "article",
    "Angular",
    "html"
  ],
  "tagsAsSlugs": [
    "article",
    "angular",
    "html"
  ],
  "slug": "accessible-router-links-in-angular",
  "code": "var Component=(()=>{var p=Object.create;var o=Object.defineProperty;var m=Object.getOwnPropertyDescriptor;var u=Object.getOwnPropertyNames;var k=Object.getPrototypeOf,g=Object.prototype.hasOwnProperty;var N=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports),f=(n,e)=>{for(var t in e)o(n,t,{get:e[t],enumerable:!0})},i=(n,e,t,r)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let s of u(e))!g.call(n,s)&&s!==t&&o(n,s,{get:()=>e[s],enumerable:!(r=m(e,s))||r.enumerable});return n};var b=(n,e,t)=>(t=n!=null?p(k(n)):{},i(e||!n||!n.__esModule?o(t,\"default\",{value:n,enumerable:!0}):t,n)),y=n=>i(o({},\"__esModule\",{value:!0}),n);var c=N((I,l)=>{l.exports=_jsx_runtime});var w={};f(w,{default:()=>d,frontmatter:()=>v});var a=b(c()),v={title:\"Accessible router links in Angular\",publishedAt:\"2023-06-09\",summary:\"About the routerLink directive and how to make sure it's accessible\",tags:[\"article\",\"Angular\",\"html\"]};function h(n){let e={a:\"a\",code:\"code\",h2:\"h2\",li:\"li\",ol:\"ol\",p:\"p\",pre:\"pre\",section:\"section\",span:\"span\",sup:\"sup\",...n.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(e.p,{children:\"I've recently had to opportunity to learn and work with the Angular framework within a team of experienced (and nice) frontend developers. To my surprise, there is a lot to like about Angular and I will write about that in a future post.\"}),`\n`,(0,a.jsxs)(e.p,{children:[\"Today, however, I'd like to discuss a feature of Angular that I think can be improved upon. I'm talking about the so-called \",(0,a.jsx)(e.a,{href:\"https://angular.io/api/router/RouterLink#description\",children:(0,a.jsx)(e.code,{children:\"routerLink\"})}),\" directive.\"]}),`\n`,(0,a.jsxs)(e.p,{children:[\"For developers, this directive is a super convenient way to make any element a clickable navigation link in an app. You can use it on regular anchor tags, but also on divs, buttons, SVGs, images and even components. The only thing you're required to do is add \",(0,a.jsx)(e.code,{children:\"routerLink='/my-link'\"}),\" to a tag or component. As I said, very convenient if you're a developer and in a hurry. But it's not always a good practice if you care about semantic HTML and accessibility.\"]}),`\n`,(0,a.jsxs)(e.h2,{id:\"inaccessible-routerlinks\",children:[(0,a.jsx)(e.a,{className:\"anchor\",href:\"#inaccessible-routerlinks\",children:(0,a.jsx)(e.span,{className:\"icon icon-link\"})}),\"Inaccessible routerLinks\"]}),`\n`,(0,a.jsxs)(e.p,{children:[\"Let me explain why that is. First let's look at what happens if you use \",(0,a.jsx)(e.code,{children:\"routerLink\"}),\" the correct way, by using it on an anchor tag:\"]}),`\n`,(0,a.jsx)(e.pre,{className:\"language-javascript\",children:(0,a.jsx)(e.code,{className:\"language-javascript code-highlight\",children:(0,a.jsxs)(e.span,{className:\"code-line\",children:[(0,a.jsx)(e.span,{className:\"token operator\",children:\"<\"}),\"a routerLink\",(0,a.jsx)(e.span,{className:\"token operator\",children:\"=\"}),(0,a.jsx)(e.span,{className:\"token string\",children:'\"/dashboard\"'}),(0,a.jsx)(e.span,{className:\"token operator\",children:\">\"}),(0,a.jsx)(e.span,{className:\"token maybe-class-name\",children:\"Dashboard\"}),(0,a.jsx)(e.span,{className:\"token operator\",children:\"<\"}),(0,a.jsx)(e.span,{className:\"token operator\",children:\"/\"}),\"a\",(0,a.jsx)(e.span,{className:\"token operator\",children:\">\"}),`\n`]})})}),`\n`,(0,a.jsx)(e.p,{children:\"This works great. In the DOM you'll see an anchor tag that looks like this:\"}),`\n`,(0,a.jsx)(e.pre,{className:\"language-javascript\",children:(0,a.jsxs)(e.code,{className:\"language-javascript code-highlight\",children:[(0,a.jsxs)(e.span,{className:\"code-line\",children:[(0,a.jsx)(e.span,{className:\"token operator\",children:\"<\"}),\"a routerlink\",(0,a.jsx)(e.span,{className:\"token operator\",children:\"=\"}),(0,a.jsx)(e.span,{className:\"token string\",children:'\"/dashboard\"'}),\" ng\",(0,a.jsx)(e.span,{className:\"token operator\",children:\"-\"}),\"reflect\",(0,a.jsx)(e.span,{className:\"token operator\",children:\"-\"}),\"router\",(0,a.jsx)(e.span,{className:\"token operator\",children:\"-\"}),\"link\",(0,a.jsx)(e.span,{className:\"token operator\",children:\"=\"}),(0,a.jsx)(e.span,{className:\"token string\",children:'\"/profile\"'}),\" href\",(0,a.jsx)(e.span,{className:\"token operator\",children:\"=\"}),(0,a.jsx)(e.span,{className:\"token string\",children:'\"/dashboard\"'}),(0,a.jsx)(e.span,{className:\"token operator\",children:\">\"}),`\n`]}),(0,a.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,a.jsx)(e.span,{className:\"token maybe-class-name\",children:\"Dashboard\"}),`\n`]}),(0,a.jsxs)(e.span,{className:\"code-line\",children:[(0,a.jsx)(e.span,{className:\"token operator\",children:\"<\"}),(0,a.jsx)(e.span,{className:\"token operator\",children:\"/\"}),\"a\",(0,a.jsx)(e.span,{className:\"token operator\",children:\">\"}),`\n`]})]})}),`\n`,(0,a.jsx)(e.p,{children:\"This enables fast client-side navigation, it's accessible and all the other functionalities that users expect from links (like opening it in a new tab) just work.\"}),`\n`,(0,a.jsxs)(e.p,{children:[\"Now let's look at the example where a developer uses the \",(0,a.jsx)(e.code,{children:\"routerLink\"}),\" directive on an \",(0,a.jsx)(e.code,{children:\"img\"}),\" tag. Again, this is perfectly valid in Angular:\"]}),`\n`,(0,a.jsx)(e.pre,{className:\"language-javascript\",children:(0,a.jsx)(e.code,{className:\"language-javascript code-highlight\",children:(0,a.jsxs)(e.span,{className:\"code-line\",children:[(0,a.jsx)(e.span,{className:\"token operator\",children:\"<\"}),\"img src\",(0,a.jsx)(e.span,{className:\"token operator\",children:\"=\"}),(0,a.jsx)(e.span,{className:\"token string\",children:'\"/company-logo\"'}),\" routerLink\",(0,a.jsx)(e.span,{className:\"token operator\",children:\"=\"}),(0,a.jsx)(e.span,{className:\"token string\",children:'\"/\"'}),\" alt\",(0,a.jsx)(e.span,{className:\"token operator\",children:\"=\"}),(0,a.jsx)(e.span,{className:\"token string\",children:'\"company logo\"'}),\" \",(0,a.jsx)(e.span,{className:\"token operator\",children:\"/\"}),(0,a.jsx)(e.span,{className:\"token operator\",children:\">\"}),`\n`]})})}),`\n`,(0,a.jsx)(e.p,{children:\"The resulting DOM structure will look like this:\"}),`\n`,(0,a.jsx)(e.pre,{className:\"language-javascript\",children:(0,a.jsxs)(e.code,{className:\"language-javascript code-highlight\",children:[(0,a.jsxs)(e.span,{className:\"code-line\",children:[(0,a.jsx)(e.span,{className:\"token operator\",children:\"<\"}),`img\n`]}),(0,a.jsxs)(e.span,{className:\"code-line\",children:[\"  src\",(0,a.jsx)(e.span,{className:\"token operator\",children:\"=\"}),(0,a.jsx)(e.span,{className:\"token string\",children:'\"company-logo\"'}),`\n`]}),(0,a.jsxs)(e.span,{className:\"code-line\",children:[\"  routerlink\",(0,a.jsx)(e.span,{className:\"token operator\",children:\"=\"}),(0,a.jsx)(e.span,{className:\"token string\",children:'\"/\"'}),`\n`]}),(0,a.jsxs)(e.span,{className:\"code-line\",children:[\"  ng\",(0,a.jsx)(e.span,{className:\"token operator\",children:\"-\"}),\"reflect\",(0,a.jsx)(e.span,{className:\"token operator\",children:\"-\"}),\"router\",(0,a.jsx)(e.span,{className:\"token operator\",children:\"-\"}),\"link\",(0,a.jsx)(e.span,{className:\"token operator\",children:\"=\"}),(0,a.jsx)(e.span,{className:\"token string\",children:'\"/\"'}),`\n`]}),(0,a.jsxs)(e.span,{className:\"code-line\",children:[\"  alt\",(0,a.jsx)(e.span,{className:\"token operator\",children:\"=\"}),(0,a.jsx)(e.span,{className:\"token string\",children:'\"company logo\"'}),`\n`]}),(0,a.jsxs)(e.span,{className:\"code-line\",children:[\"  tabindex\",(0,a.jsx)(e.span,{className:\"token operator\",children:\"=\"}),(0,a.jsx)(e.span,{className:\"token string\",children:'\"0\"'}),`\n`]}),(0,a.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,a.jsx)(e.span,{className:\"token operator\",children:\">\"}),`\n`]})]})}),`\n`,(0,a.jsx)(e.p,{children:\"This image will act like a link, navigating the user back to the homepage. However, it won't be announced to the user as a link when using a screen reader and standard functionalities that users expect from a link (like opening it in a new tab) will not work. In short: it's an image unsuccessfully pretending to be a link.\"}),`\n`,(0,a.jsxs)(e.h2,{id:\"how-to-fix-this\",children:[(0,a.jsx)(e.a,{className:\"anchor\",href:\"#how-to-fix-this\",children:(0,a.jsx)(e.span,{className:\"icon icon-link\"})}),\"How to fix this\"]}),`\n`,(0,a.jsx)(e.p,{children:\"These problems can be relatively easily fixed by using an anchor tag for routerLinks and wrapping any other HTML tags (like images) in those. It's the task of the Angular developer to not succumb to the temptations of the powerful routerLink directive and only use it on anchor tags.\"}),`\n`,(0,a.jsxs)(e.p,{children:[\"I do think, however, that this is a problem that shouldn't exist in the first place. If you look at routing solutions from the React ecosystem you'll notice that their \",(0,a.jsx)(e.code,{children:\"<Link />\"}),\" components are always extending anchor tags.\",(0,a.jsx)(e.sup,{children:(0,a.jsx)(e.a,{href:\"#user-content-fn-1\",id:\"user-content-fnref-1\",\"data-footnote-ref\":!0,\"aria-describedby\":\"footnote-label\",children:\"1\"})}),\" In that way, the default way of adding links to an application is automatically accessible and semantically correct. Of course, there are ways to programmatically force router link behavior on other tags and components, but that's not recommended and not as easy to do.\"]}),`\n`,(0,a.jsx)(e.p,{children:\"In the end, I think Angular should have chosen a similar path by letting the default way be accessible. It would, I have to agree, make the lives of Angular developers a bit harder, but as a result, users of Angular applications will have links that work in an accessible and reliable way.\"}),`\n`,(0,a.jsxs)(e.p,{children:[\"Realistically speaking this is not something Angular could fix without introducing a breaking change, but I think a note in their documentation about the recommended way of using \",(0,a.jsx)(e.code,{children:\"routerLinks\"}),\" might be a quick win to make developers more aware of the issue.\"]}),`\n`,(0,a.jsxs)(e.section,{\"data-footnotes\":!0,className:\"footnotes\",children:[(0,a.jsxs)(e.h2,{className:\"sr-only\",id:\"footnote-label\",children:[(0,a.jsx)(e.a,{className:\"anchor\",href:\"#footnote-label\",children:(0,a.jsx)(e.span,{className:\"icon icon-link\"})}),\"Footnotes\"]}),`\n`,(0,a.jsxs)(e.ol,{children:[`\n`,(0,a.jsxs)(e.li,{id:\"user-content-fn-1\",children:[`\n`,(0,a.jsxs)(e.p,{children:[\"Most notably \",(0,a.jsx)(e.a,{href:\"https://reactrouter.com/en/main/components/link\",children:\"React Router\"}),` and\n`,(0,a.jsx)(e.a,{href:\"https://nextjs.org/docs/pages/api-reference/components/link\",children:\"Next.js\"}),\". \",(0,a.jsx)(e.a,{href:\"https://kit.svelte.dev/docs/link-options\",children:\"SvelteKit\"}),\" has a different approach where \",(0,a.jsx)(e.code,{children:\"<a>\"}),\" elements are automatically upgraded to client-side navigation links. This is neat but also involves some magic that might not be obvious to developers. \",(0,a.jsx)(e.a,{href:\"#user-content-fnref-1\",\"data-footnote-backref\":\"\",\"aria-label\":\"Back to reference 1\",className:\"data-footnote-backref\",children:\"\\u21A9\"})]}),`\n`]}),`\n`]}),`\n`]})]})}function d(n={}){let{wrapper:e}=n.components||{};return e?(0,a.jsx)(e,{...n,children:(0,a.jsx)(h,{...n})}):h(n)}return y(w);})();\n;return Component;",
  "readingTime": {
    "text": "4 min read",
    "minutes": 3.04,
    "time": 182400,
    "words": 608
  }
}