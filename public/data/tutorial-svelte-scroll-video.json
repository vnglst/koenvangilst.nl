{
  "title": "Using Svelte to create a scroll video effect",
  "publishedAt": "2020-11-18",
  "summary": "Tutorial on how to create a scroll video effect using Svelteâ€™s powerful bind command.",
  "tags": [
    "svelte",
    "tutorial",
    "article"
  ],
  "tagsAsSlugs": [
    "svelte",
    "tutorial",
    "article"
  ],
  "slug": "tutorial-svelte-scroll-video",
  "code": "var Component=(()=>{var d=Object.create;var c=Object.defineProperty;var m=Object.getOwnPropertyDescriptor;var u=Object.getOwnPropertyNames;var N=Object.getPrototypeOf,k=Object.prototype.hasOwnProperty;var g=(a,e)=>()=>(e||a((e={exports:{}}).exports,e),e.exports),v=(a,e)=>{for(var s in e)c(a,s,{get:e[s],enumerable:!0})},i=(a,e,s,t)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let l of u(e))!k.call(a,l)&&l!==s&&c(a,l,{get:()=>e[l],enumerable:!(t=m(e,l))||t.enumerable});return a};var y=(a,e,s)=>(s=a!=null?d(N(a)):{},i(e||!a||!a.__esModule?c(s,\"default\",{value:a,enumerable:!0}):s,a)),w=a=>i(c({},\"__esModule\",{value:!0}),a);var r=g((T,o)=>{o.exports=_jsx_runtime});var b={};v(b,{default:()=>h,frontmatter:()=>f});var n=y(r()),f={title:\"Using Svelte to create a scroll video effect\",publishedAt:\"2020-11-18\",summary:\"Tutorial on how to create a scroll video effect using Svelte\\u2019s powerful bind command.\",tags:[\"svelte\",\"tutorial\",\"article\"]};function p(a){let e={a:\"a\",code:\"code\",em:\"em\",h2:\"h2\",li:\"li\",p:\"p\",pre:\"pre\",span:\"span\",strong:\"strong\",ul:\"ul\",...a.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(e.p,{children:[\"In this tutorial, I\\u2019ll show you how Svelte\\u2019s bind command can be used to create a cool scroll video effect with very little code. The effect we\\u2019ll be creating plays a video when the user scrolls up or down. Below is a gif of \",(0,n.jsx)(e.a,{href:\"https://www.nytimes.com/interactive/2019/10/30/world/middleeast/syria-turkey-maps.html\",children:\"how this looks on the NYTimes website\"})]}),`\n`,(0,n.jsx)(\"video\",{width:\"672\",height:\"577\",muted:!0,loop:!0,controls:!0,autoPlay:!0,playsInline:!0,fetchPriority:\"high\",children:(0,n.jsx)(\"source\",{src:\"https://i.imgur.com/s0GVWeR.mp4\",type:\"video/mp4\"})}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"Note:\"}),\" The effect itself is a lot smoother than the gifs \\u{1F602}. Another example can be found \",(0,n.jsx)(e.a,{href:\"https://www.nytimes.com/interactive/2020/09/09/world/middleeast/beirut-explosion.html\",children:\"here\"}),\"). The effect is also sometimes used on product landing pages. Here's an example on \",(0,n.jsx)(e.a,{href:\"https://www.apple.com/imac-pro/\",children:\"Apple's page for the iMac Pro\"}),\".\"]}),`\n`,(0,n.jsx)(\"video\",{width:\"672\",height:\"577\",muted:!0,loop:!0,controls:!0,autoPlay:!0,playsInline:!0,children:(0,n.jsx)(\"source\",{src:\"https://i.imgur.com/10tgKVV.mp4\",type:\"video/mp4\"})}),`\n`,(0,n.jsx)(e.p,{children:\"It gives web pages a very dynamic look and I was surprised to learn how easily you can accomplish this with svelte.\"}),`\n`,(0,n.jsxs)(e.h2,{id:\"setting-up-svelte\",children:[(0,n.jsx)(e.a,{className:\"anchor\",href:\"#setting-up-svelte\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Setting up svelte\"]}),`\n`,(0,n.jsxs)(e.p,{children:[\"Following the instructions on the \",(0,n.jsx)(e.a,{href:\"https://svelte.dev\",children:\"svelte.dev\"}),\" homepage we run the following commands to get started with svelte:\"]}),`\n`,(0,n.jsx)(e.pre,{className:\"language-bash\",children:(0,n.jsxs)(e.code,{className:\"language-bash code-highlight\",children:[(0,n.jsx)(e.span,{className:\"code-line\",children:`npx degit sveltejs/template scroll-video\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token function\",children:\"npm\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"install\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token function\",children:\"npm\"}),` run dev\n`]})]})}),`\n`,(0,n.jsxs)(e.p,{children:[\"A new svelte project is now running on \",(0,n.jsx)(e.a,{href:\"http://localhost:5000\",children:\"http://localhost:5000\"})]}),`\n`,(0,n.jsxs)(e.p,{children:[\"We start with an empty \",(0,n.jsx)(e.code,{children:\"App.svelte\"}),\" file, so let\\u2019s delete all the code in that file first.\"]}),`\n`,(0,n.jsxs)(e.h2,{id:\"scrolling-formula\",children:[(0,n.jsx)(e.a,{className:\"anchor\",href:\"#scrolling-formula\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Scrolling formula\"]}),`\n`,(0,n.jsx)(e.p,{children:\"When the user scrolls down the page, we want the video the play forward. To accomplish this we'll set the current video position using the following formula:\"}),`\n`,(0,n.jsx)(e.pre,{className:\"language-js\",children:(0,n.jsx)(e.code,{className:\"language-js code-highlight\",children:(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"currentTime \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" duration \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"*\"}),\" scrollY \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"/\"}),` total scroll height\n`]})})}),`\n`,(0,n.jsx)(e.p,{children:\"where:\"}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsx)(e.li,{children:\"currentTime = the play position in the video\"}),`\n`,(0,n.jsx)(e.li,{children:\"duration = total playing time of the video\"}),`\n`,(0,n.jsx)(e.li,{children:\"scrollY = the current vertical scroll position\"}),`\n`]}),`\n`,(0,n.jsxs)(e.h2,{id:\"binding-variables\",children:[(0,n.jsx)(e.a,{className:\"anchor\",href:\"#binding-variables\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Binding variables\"]}),`\n`,(0,n.jsxs)(e.p,{children:[\"Now that we figured out what the formula is going to be, let\\u2019s see how we can read these values by using svelte\\u2019s \",(0,n.jsx)(e.em,{children:\"variable binding\"}),\".\"]}),`\n`,(0,n.jsx)(e.p,{children:\"We can get the vertical scrolling position with the following code:\"}),`\n`,(0,n.jsx)(e.pre,{className:\"language-html\",children:(0,n.jsxs)(e.code,{className:\"language-html code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"<\"}),\"script\"]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\">\"})]}),(0,n.jsx)(e.span,{className:\"token script\",children:(0,n.jsx)(e.span,{className:\"token language-javascript\",children:`\n`})})]}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsx)(e.span,{className:\"token script\",children:(0,n.jsxs)(e.span,{className:\"token language-javascript\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"let\"}),\" scrollY\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]})})}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token script\",children:(0,n.jsx)(e.span,{className:\"token language-javascript\"})}),(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"</\"}),\"script\"]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\">\"})]}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"<\"}),(0,n.jsx)(e.span,{className:\"token namespace\",children:\"svelte:\"}),\"window\"]}),\" \",(0,n.jsxs)(e.span,{className:\"token attr-name\",children:[(0,n.jsx)(e.span,{className:\"token namespace\",children:\"bind:\"}),\"scrollY\"]}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"/>\"})]}),`\n`]})]})}),`\n`,(0,n.jsxs)(e.p,{children:[\"Here we are binding the vertical scroll position of the window to a variable \",(0,n.jsx)(e.em,{children:\"scrollY\"}),\". Before we can continue, we have to make sure our window is high enough to allow for scrolling. Let\\u2019s add a \",(0,n.jsx)(e.code,{children:\"div\"}),\" and some CSS for that:\"]}),`\n`,(0,n.jsx)(e.pre,{className:\"language-html\",children:(0,n.jsxs)(e.code,{className:\"language-html code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"<\"}),\"script\"]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\">\"})]}),(0,n.jsx)(e.span,{className:\"token script\",children:(0,n.jsx)(e.span,{className:\"token language-javascript\",children:`\n`})})]}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsx)(e.span,{className:\"token script\",children:(0,n.jsxs)(e.span,{className:\"token language-javascript\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"let\"}),\" scrollY\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]})})}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token script\",children:(0,n.jsx)(e.span,{className:\"token language-javascript\"})}),(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"</\"}),\"script\"]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\">\"})]}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"<\"}),(0,n.jsx)(e.span,{className:\"token namespace\",children:\"svelte:\"}),\"window\"]}),\" \",(0,n.jsxs)(e.span,{className:\"token attr-name\",children:[(0,n.jsx)(e.span,{className:\"token namespace\",children:\"bind:\"}),\"scrollY\"]}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"/>\"})]}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"<\"}),\"div\"]}),\" \",(0,n.jsx)(e.span,{className:\"token attr-name\",children:\"class\"}),(0,n.jsxs)(e.span,{className:\"token attr-value\",children:[(0,n.jsx)(e.span,{className:\"token punctuation attr-equals\",children:\"=\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:'\"'}),\"scroll-container\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:'\"'})]}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"/>\"})]}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"<\"}),\"style\"]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\">\"})]}),(0,n.jsx)(e.span,{className:\"token style\",children:(0,n.jsx)(e.span,{className:\"token language-css\",children:`\n`})})]}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsx)(e.span,{className:\"token style\",children:(0,n.jsxs)(e.span,{className:\"token language-css\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token selector\",children:(0,n.jsx)(e.span,{className:\"token class\",children:\".scroll-container\"})}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]})})}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsx)(e.span,{className:\"token style\",children:(0,n.jsxs)(e.span,{className:\"token language-css\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token property\",children:\"height\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"5000\"}),(0,n.jsx)(e.span,{className:\"token unit\",children:\"px\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]})})}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsx)(e.span,{className:\"token style\",children:(0,n.jsxs)(e.span,{className:\"token language-css\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})})}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token style\",children:(0,n.jsx)(e.span,{className:\"token language-css\"})}),(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"</\"}),\"style\"]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\">\"})]}),`\n`]})]})}),`\n`,(0,n.jsx)(e.p,{children:\"Notice how you can combine HTML, CSS and JavaScript within a Svelte component. Almost like you would in a regular HTML file!\"}),`\n`,(0,n.jsxs)(e.p,{children:[\"To verify if this works you might be tempted to add a \",(0,n.jsx)(e.em,{children:\"console.log\"}),\" just below the line \",(0,n.jsx)(e.code,{children:\"let scrollY;\"}),\". If you try that however you\\u2019ll see only one \",(0,n.jsx)(e.code,{children:\"0\"}),\" being logged. The reason for this is that any code inside the \",(0,n.jsx)(e.code,{children:\"<script>\"}),\" will run only once (when initializing the component). If you want to keep executing the \",(0,n.jsx)(e.em,{children:\"console.log\"}),\" as the scroll values update, make it reactive using the following notation:\"]}),`\n`,(0,n.jsx)(e.pre,{className:\"language-js\",children:(0,n.jsx)(e.code,{className:\"language-js code-highlight\",children:(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token literal-property property\",children:\"$\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token console class-name\",children:\"console\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token method function property-access\",children:\"log\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"scrollY\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]})})}),`\n`,(0,n.jsx)(e.p,{children:\"This may look a bit funky (and it is! I\\u2019m not even sure if it\\u2019s still JavaScript) but you\\u2019ll get used to it.\"}),`\n`,(0,n.jsx)(e.p,{children:\"After adding the console.log with the dollar sign, you should see the scroll position logged on every update. Pretty cool for just 2 lines of code!\"}),`\n`,(0,n.jsxs)(e.p,{children:[\"Similarly, we can use bind on \",(0,n.jsx)(e.code,{children:\"<video>\"}),\" to get the other values:\"]}),`\n`,(0,n.jsx)(e.pre,{className:\"language-html\",children:(0,n.jsxs)(e.code,{className:\"language-html code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"<\"}),\"script\"]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\">\"})]}),(0,n.jsx)(e.span,{className:\"token script\",children:(0,n.jsx)(e.span,{className:\"token language-javascript\",children:`\n`})})]}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsx)(e.span,{className:\"token script\",children:(0,n.jsxs)(e.span,{className:\"token language-javascript\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"let\"}),\" scrollY\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]})})}),(0,n.jsx)(e.span,{className:\"code-line highlight-line\",children:(0,n.jsx)(e.span,{className:\"token script\",children:(0,n.jsxs)(e.span,{className:\"token language-javascript\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"let\"}),\" time\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]})})}),(0,n.jsx)(e.span,{className:\"code-line highlight-line\",children:(0,n.jsx)(e.span,{className:\"token script\",children:(0,n.jsxs)(e.span,{className:\"token language-javascript\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"let\"}),\" duration\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]})})}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token script\",children:(0,n.jsx)(e.span,{className:\"token language-javascript\"})}),(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"</\"}),\"script\"]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\">\"})]}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"<\"}),(0,n.jsx)(e.span,{className:\"token namespace\",children:\"svelte:\"}),\"window\"]}),\" \",(0,n.jsxs)(e.span,{className:\"token attr-name\",children:[(0,n.jsx)(e.span,{className:\"token namespace\",children:\"bind:\"}),\"scrollY\"]}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"/>\"})]}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"<\"}),\"div\"]}),\" \",(0,n.jsx)(e.span,{className:\"token attr-name\",children:\"class\"}),(0,n.jsxs)(e.span,{className:\"token attr-value\",children:[(0,n.jsx)(e.span,{className:\"token punctuation attr-equals\",children:\"=\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:'\"'}),\"scroll-container\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:'\"'})]}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"/>\"})]}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsx)(e.span,{className:\"code-line highlight-line\",children:(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"<\"}),\"video\"]}),`\n`]})}),(0,n.jsx)(e.span,{className:\"code-line highlight-line\",children:(0,n.jsxs)(e.span,{className:\"token tag\",children:[\"  \",(0,n.jsxs)(e.span,{className:\"token attr-name\",children:[(0,n.jsx)(e.span,{className:\"token namespace\",children:\"bind:\"}),\"currentTime\"]}),(0,n.jsxs)(e.span,{className:\"token attr-value\",children:[(0,n.jsx)(e.span,{className:\"token punctuation attr-equals\",children:\"=\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:'\"'}),\"{time}\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:'\"'})]}),`\n`]})}),(0,n.jsx)(e.span,{className:\"code-line highlight-line\",children:(0,n.jsxs)(e.span,{className:\"token tag\",children:[\"  \",(0,n.jsxs)(e.span,{className:\"token attr-name\",children:[(0,n.jsx)(e.span,{className:\"token namespace\",children:\"bind:\"}),\"duration\"]}),`\n`]})}),(0,n.jsx)(e.span,{className:\"code-line highlight-line\",children:(0,n.jsxs)(e.span,{className:\"token tag\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token attr-name\",children:\"preload\"}),(0,n.jsxs)(e.span,{className:\"token attr-value\",children:[(0,n.jsx)(e.span,{className:\"token punctuation attr-equals\",children:\"=\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:'\"'}),\"metadata\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:'\"'})]}),`\n`]})}),(0,n.jsx)(e.span,{className:\"code-line highlight-line\",children:(0,n.jsxs)(e.span,{className:\"token tag\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token attr-name\",children:\"muted\"}),`\n`]})}),(0,n.jsx)(e.span,{className:\"code-line highlight-line\",children:(0,n.jsxs)(e.span,{className:\"token tag\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token attr-name\",children:\"src\"}),(0,n.jsxs)(e.span,{className:\"token attr-value\",children:[(0,n.jsx)(e.span,{className:\"token punctuation attr-equals\",children:\"=\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:'\"'}),\"https://static01.nyt.com/newsgraphics/2019/10/23/turkey-syria-video-upload/71ab097907156ca46fb7ffd4d21dfbd119fb47e8/syria-turkey-reconstruct-7-800.mp4\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:'\"'})]}),`\n`]})}),(0,n.jsx)(e.span,{className:\"code-line highlight-line\",children:(0,n.jsxs)(e.span,{className:\"token tag\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token attr-name\",children:\"type\"}),(0,n.jsxs)(e.span,{className:\"token attr-value\",children:[(0,n.jsx)(e.span,{className:\"token punctuation attr-equals\",children:\"=\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:'\"'}),\"video/mp4\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:'\"'})]}),`\n`]})}),(0,n.jsxs)(e.span,{className:\"code-line highlight-line\",children:[(0,n.jsx)(e.span,{className:\"token tag\",children:(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"/>\"})}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"<\"}),\"style\"]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\">\"})]}),(0,n.jsx)(e.span,{className:\"token style\",children:(0,n.jsx)(e.span,{className:\"token language-css\",children:`\n`})})]}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsx)(e.span,{className:\"token style\",children:(0,n.jsxs)(e.span,{className:\"token language-css\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token selector\",children:(0,n.jsx)(e.span,{className:\"token class\",children:\".scroll-container\"})}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]})})}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsx)(e.span,{className:\"token style\",children:(0,n.jsxs)(e.span,{className:\"token language-css\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token property\",children:\"height\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"5000\"}),(0,n.jsx)(e.span,{className:\"token unit\",children:\"px\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]})})}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsx)(e.span,{className:\"token style\",children:(0,n.jsxs)(e.span,{className:\"token language-css\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})})}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token style\",children:(0,n.jsx)(e.span,{className:\"token language-css\"})}),(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"</\"}),\"style\"]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\">\"})]}),`\n`]})]})}),`\n`,(0,n.jsxs)(e.p,{children:[\"The cool thing about these bindings is that they are \",(0,n.jsx)(e.strong,{children:\"bidirectional\"}),\". This means that the \",(0,n.jsx)(e.code,{children:\"time\"}),\" variable not only holds the current playback time but that if we change it, we\\u2019re also updating the current playback position of the video! This is also known as \",(0,n.jsx)(e.em,{children:\"two-way data binding\"}),\" which was initially popularized by the original \",(0,n.jsx)(e.em,{children:\"AngularJS\"}),\".\"]}),`\n`,(0,n.jsx)(e.p,{children:\"In the next section, we'll combine this with the formula we made earlier.\"}),`\n`,(0,n.jsxs)(e.h2,{id:\"updating-video-playback-on-scroll\",children:[(0,n.jsx)(e.a,{className:\"anchor\",href:\"#updating-video-playback-on-scroll\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Updating video playback on scroll\"]}),`\n`,(0,n.jsxs)(e.p,{children:[\"Before we can continue we first have to make sure the video is always displayed fullscreen in the background while we are scrolling. Let's add a container \",(0,n.jsx)(e.em,{children:\"div\"}),\" and some CSS to accomplish that:\"]}),`\n`,(0,n.jsx)(e.pre,{className:\"language-html\",children:(0,n.jsxs)(e.code,{className:\"language-html code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"<\"}),\"script\"]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\">\"})]}),(0,n.jsx)(e.span,{className:\"token script\",children:(0,n.jsx)(e.span,{className:\"token language-javascript\",children:`\n`})})]}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsx)(e.span,{className:\"token script\",children:(0,n.jsxs)(e.span,{className:\"token language-javascript\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"let\"}),\" scrollY\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]})})}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsx)(e.span,{className:\"token script\",children:(0,n.jsxs)(e.span,{className:\"token language-javascript\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"let\"}),\" time\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]})})}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsx)(e.span,{className:\"token script\",children:(0,n.jsxs)(e.span,{className:\"token language-javascript\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"let\"}),\" duration\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]})})}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token script\",children:(0,n.jsx)(e.span,{className:\"token language-javascript\"})}),(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"</\"}),\"script\"]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\">\"})]}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"<\"}),(0,n.jsx)(e.span,{className:\"token namespace\",children:\"svelte:\"}),\"window\"]}),\" \",(0,n.jsxs)(e.span,{className:\"token attr-name\",children:[(0,n.jsx)(e.span,{className:\"token namespace\",children:\"bind:\"}),\"scrollY\"]}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"/>\"})]}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"<\"}),\"div\"]}),\" \",(0,n.jsx)(e.span,{className:\"token attr-name\",children:\"class\"}),(0,n.jsxs)(e.span,{className:\"token attr-value\",children:[(0,n.jsx)(e.span,{className:\"token punctuation attr-equals\",children:\"=\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:'\"'}),\"scroll-container\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:'\"'})]}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"/>\"})]}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line highlight-line\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"<\"}),\"div\"]}),\" \",(0,n.jsx)(e.span,{className:\"token attr-name\",children:\"class\"}),(0,n.jsxs)(e.span,{className:\"token attr-value\",children:[(0,n.jsx)(e.span,{className:\"token punctuation attr-equals\",children:\"=\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:'\"'}),\"video-container\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:'\"'})]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\">\"})]}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"<\"}),\"video\"]}),`\n`]})]}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsxs)(e.span,{className:\"token tag\",children:[\"    \",(0,n.jsxs)(e.span,{className:\"token attr-name\",children:[(0,n.jsx)(e.span,{className:\"token namespace\",children:\"bind:\"}),\"currentTime\"]}),(0,n.jsxs)(e.span,{className:\"token attr-value\",children:[(0,n.jsx)(e.span,{className:\"token punctuation attr-equals\",children:\"=\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:'\"'}),\"{time}\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:'\"'})]}),`\n`]})}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsxs)(e.span,{className:\"token tag\",children:[\"    \",(0,n.jsxs)(e.span,{className:\"token attr-name\",children:[(0,n.jsx)(e.span,{className:\"token namespace\",children:\"bind:\"}),\"duration\"]}),`\n`]})}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsxs)(e.span,{className:\"token tag\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token attr-name\",children:\"preload\"}),(0,n.jsxs)(e.span,{className:\"token attr-value\",children:[(0,n.jsx)(e.span,{className:\"token punctuation attr-equals\",children:\"=\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:'\"'}),\"metadata\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:'\"'})]}),`\n`]})}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsxs)(e.span,{className:\"token tag\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token attr-name\",children:\"muted\"}),`\n`]})}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsxs)(e.span,{className:\"token tag\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token attr-name\",children:\"src\"}),(0,n.jsxs)(e.span,{className:\"token attr-value\",children:[(0,n.jsx)(e.span,{className:\"token punctuation attr-equals\",children:\"=\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:'\"'}),\"https://int.nyt.com/newsgraphics/2020/beirut-explosion-video/main/warehouse-800.mp4\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:'\"'})]}),`\n`]})}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsxs)(e.span,{className:\"token tag\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token attr-name\",children:\"type\"}),(0,n.jsxs)(e.span,{className:\"token attr-value\",children:[(0,n.jsx)(e.span,{className:\"token punctuation attr-equals\",children:\"=\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:'\"'}),\"video/mp4\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:'\"'})]}),`\n`]})}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"/>\"})]}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line highlight-line\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"</\"}),\"div\"]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\">\"})]}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"<\"}),\"style\"]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\">\"})]}),(0,n.jsx)(e.span,{className:\"token style\",children:(0,n.jsx)(e.span,{className:\"token language-css\",children:`\n`})})]}),(0,n.jsx)(e.span,{className:\"code-line highlight-line\",children:(0,n.jsx)(e.span,{className:\"token style\",children:(0,n.jsxs)(e.span,{className:\"token language-css\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token selector\",children:(0,n.jsx)(e.span,{className:\"token class\",children:\".video-container\"})}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]})})}),(0,n.jsx)(e.span,{className:\"code-line highlight-line\",children:(0,n.jsx)(e.span,{className:\"token style\",children:(0,n.jsxs)(e.span,{className:\"token language-css\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token property\",children:\"position\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" absolute\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]})})}),(0,n.jsx)(e.span,{className:\"code-line highlight-line\",children:(0,n.jsx)(e.span,{className:\"token style\",children:(0,n.jsxs)(e.span,{className:\"token language-css\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token property\",children:\"top\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"0\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]})})}),(0,n.jsx)(e.span,{className:\"code-line highlight-line\",children:(0,n.jsx)(e.span,{className:\"token style\",children:(0,n.jsxs)(e.span,{className:\"token language-css\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token property\",children:\"bottom\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"0\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]})})}),(0,n.jsx)(e.span,{className:\"code-line highlight-line\",children:(0,n.jsx)(e.span,{className:\"token style\",children:(0,n.jsxs)(e.span,{className:\"token language-css\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token property\",children:\"overflow\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" hidden\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]})})}),(0,n.jsx)(e.span,{className:\"code-line highlight-line\",children:(0,n.jsx)(e.span,{className:\"token style\",children:(0,n.jsxs)(e.span,{className:\"token language-css\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})})}),(0,n.jsx)(e.span,{className:\"code-line highlight-line\",children:(0,n.jsx)(e.span,{className:\"token style\",children:(0,n.jsx)(e.span,{className:\"token language-css\",children:`\n`})})}),(0,n.jsx)(e.span,{className:\"code-line highlight-line\",children:(0,n.jsx)(e.span,{className:\"token style\",children:(0,n.jsxs)(e.span,{className:\"token language-css\",children:[\"  \",(0,n.jsxs)(e.span,{className:\"token selector\",children:[(0,n.jsx)(e.span,{className:\"token class\",children:\".video-container\"}),\" video\"]}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]})})}),(0,n.jsx)(e.span,{className:\"code-line highlight-line\",children:(0,n.jsx)(e.span,{className:\"token style\",children:(0,n.jsxs)(e.span,{className:\"token language-css\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token property\",children:\"min-width\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"100\"}),(0,n.jsx)(e.span,{className:\"token unit\",children:\"%\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]})})}),(0,n.jsx)(e.span,{className:\"code-line highlight-line\",children:(0,n.jsx)(e.span,{className:\"token style\",children:(0,n.jsxs)(e.span,{className:\"token language-css\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token property\",children:\"min-height\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"100\"}),(0,n.jsx)(e.span,{className:\"token unit\",children:\"%\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]})})}),(0,n.jsx)(e.span,{className:\"code-line highlight-line\",children:(0,n.jsx)(e.span,{className:\"token style\",children:(0,n.jsxs)(e.span,{className:\"token language-css\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token property\",children:\"width\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" auto\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]})})}),(0,n.jsx)(e.span,{className:\"code-line highlight-line\",children:(0,n.jsx)(e.span,{className:\"token style\",children:(0,n.jsxs)(e.span,{className:\"token language-css\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token property\",children:\"height\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" auto\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]})})}),(0,n.jsx)(e.span,{className:\"code-line highlight-line\",children:(0,n.jsx)(e.span,{className:\"token style\",children:(0,n.jsxs)(e.span,{className:\"token language-css\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token property\",children:\"position\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" fixed\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]})})}),(0,n.jsx)(e.span,{className:\"code-line highlight-line\",children:(0,n.jsx)(e.span,{className:\"token style\",children:(0,n.jsxs)(e.span,{className:\"token language-css\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token property\",children:\"top\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"50\"}),(0,n.jsx)(e.span,{className:\"token unit\",children:\"%\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]})})}),(0,n.jsx)(e.span,{className:\"code-line highlight-line\",children:(0,n.jsx)(e.span,{className:\"token style\",children:(0,n.jsxs)(e.span,{className:\"token language-css\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token property\",children:\"left\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"50\"}),(0,n.jsx)(e.span,{className:\"token unit\",children:\"%\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]})})}),(0,n.jsx)(e.span,{className:\"code-line highlight-line\",children:(0,n.jsx)(e.span,{className:\"token style\",children:(0,n.jsxs)(e.span,{className:\"token language-css\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token property\",children:\"transform\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"translate\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token number\",children:\"-50\"}),(0,n.jsx)(e.span,{className:\"token unit\",children:\"%\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"-50\"}),(0,n.jsx)(e.span,{className:\"token unit\",children:\"%\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]})})}),(0,n.jsx)(e.span,{className:\"code-line highlight-line\",children:(0,n.jsx)(e.span,{className:\"token style\",children:(0,n.jsxs)(e.span,{className:\"token language-css\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})})}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsx)(e.span,{className:\"token style\",children:(0,n.jsx)(e.span,{className:\"token language-css\",children:`\n`})})}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsx)(e.span,{className:\"token style\",children:(0,n.jsxs)(e.span,{className:\"token language-css\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token selector\",children:(0,n.jsx)(e.span,{className:\"token class\",children:\".scroll-container\"})}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]})})}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsx)(e.span,{className:\"token style\",children:(0,n.jsxs)(e.span,{className:\"token language-css\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token property\",children:\"height\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"5000\"}),(0,n.jsx)(e.span,{className:\"token unit\",children:\"px\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]})})}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsx)(e.span,{className:\"token style\",children:(0,n.jsxs)(e.span,{className:\"token language-css\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})})}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token style\",children:(0,n.jsx)(e.span,{className:\"token language-css\"})}),(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"</\"}),\"style\"]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\">\"})]}),`\n`]})]})}),`\n`,(0,n.jsxs)(e.p,{children:[\"Any changes in the scroll position should immediately be reflected in a change in the playback position. In other words: the changes in the time variable should react to the changes in the scroll position. To accomplish this we have to make sure our formula code is \",(0,n.jsx)(e.strong,{children:\"reactive\"}),\". Just as with the console.log we use the \",(0,n.jsx)(e.code,{children:\"$:\"}),\" notation to do this:\"]}),`\n`,(0,n.jsx)(e.pre,{className:\"language-html\",children:(0,n.jsxs)(e.code,{className:\"language-html code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"<\"}),\"script\"]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\">\"})]}),(0,n.jsx)(e.span,{className:\"token script\",children:(0,n.jsx)(e.span,{className:\"token language-javascript\",children:`\n`})})]}),(0,n.jsx)(e.span,{className:\"code-line highlight-line\",children:(0,n.jsx)(e.span,{className:\"token script\",children:(0,n.jsxs)(e.span,{className:\"token language-javascript\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"let\"}),\" time \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"0\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]})})}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsx)(e.span,{className:\"token script\",children:(0,n.jsxs)(e.span,{className:\"token language-javascript\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"let\"}),\" duration\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]})})}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsx)(e.span,{className:\"token script\",children:(0,n.jsx)(e.span,{className:\"token language-javascript\",children:`\n`})})}),(0,n.jsx)(e.span,{className:\"code-line highlight-line\",children:(0,n.jsx)(e.span,{className:\"token script\",children:(0,n.jsxs)(e.span,{className:\"token language-javascript\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"let\"}),\" scrollY \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"0\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]})})}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsx)(e.span,{className:\"token script\",children:(0,n.jsx)(e.span,{className:\"token language-javascript\",children:`\n`})})}),(0,n.jsx)(e.span,{className:\"code-line highlight-line\",children:(0,n.jsx)(e.span,{className:\"token script\",children:(0,n.jsxs)(e.span,{className:\"token language-javascript\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token literal-property property\",children:\"$\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]})})}),(0,n.jsx)(e.span,{className:\"code-line highlight-line\",children:(0,n.jsx)(e.span,{className:\"token script\",children:(0,n.jsxs)(e.span,{className:\"token language-javascript\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" totalScroll \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),`\n`]})})}),(0,n.jsx)(e.span,{className:\"code-line highlight-line\",children:(0,n.jsx)(e.span,{className:\"token script\",children:(0,n.jsxs)(e.span,{className:\"token language-javascript\",children:[\"      \",(0,n.jsx)(e.span,{className:\"token dom variable\",children:\"document\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access\",children:\"documentElement\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access\",children:\"scrollHeight\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"-\"}),\" \",(0,n.jsx)(e.span,{className:\"token dom variable\",children:\"window\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access\",children:\"innerHeight\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]})})}),(0,n.jsx)(e.span,{className:\"code-line highlight-line\",children:(0,n.jsx)(e.span,{className:\"token script\",children:(0,n.jsxs)(e.span,{className:\"token language-javascript\",children:[\"    time \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" duration \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"*\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"scrollY \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"/\"}),\" totalScroll\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]})})}),(0,n.jsx)(e.span,{className:\"code-line highlight-line\",children:(0,n.jsx)(e.span,{className:\"token script\",children:(0,n.jsxs)(e.span,{className:\"token language-javascript\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})})}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token script\",children:(0,n.jsx)(e.span,{className:\"token language-javascript\"})}),(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"</\"}),\"script\"]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\">\"})]}),`\n`]})]})}),`\n`,(0,n.jsxs)(e.h2,{id:\"result\",children:[(0,n.jsx)(e.a,{className:\"anchor\",href:\"#result\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Result\"]}),`\n`,(0,n.jsxs)(e.p,{children:[\"After adding the last piece of code the video scroll effect should work. To make the scroll effect more visible I've also added a heading and some content blocks. You can see the complete feature in the \",(0,n.jsx)(e.a,{href:\"https://svelte.dev/repl/850d34e7f22b4a13935a078b62c2e19a?version=3.29.7\",children:\"Svelte REPL\"}),\" below.\"]}),`\n`,(0,n.jsx)(\"iframe\",{loading:\"lazy\",src:\"https://svelte.dev/repl/850d34e7f22b4a13935a078b62c2e19a?version=3.29.7\",width:\"100%\",height:\"400\"}),`\n`,(0,n.jsxs)(e.h2,{id:\"notes-on-performance\",children:[(0,n.jsx)(e.a,{className:\"anchor\",href:\"#notes-on-performance\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Notes on performance\"]}),`\n`,(0,n.jsx)(e.p,{children:\"The NYTimes is using optimized, small-size videos on their pages. And with good reason: I've been doing experiments with larger (high definition) videos and it's impossible to get the performance right on all browsers: Safari performs surprisingly well, but Firefox and Chrome quickly start to stutter when the video gets larger.\"}),`\n`,(0,n.jsxs)(e.p,{children:[\"Apple is using a different technique to accomplish the effect on their pages: They've split up the video into separate frames (images) and they show a different frame when the scroll position changes. This \",(0,n.jsx)(e.a,{href:\"https://css-tricks.com/lets-make-one-of-those-fancy-scrolling-animations-used-on-apple-product-pages/\",children:\"technique\"}),\" performs surprisingly well, even for high-definition video content. It does, however, come at a cost: All those frames have to be downloaded individually, adding up to huge download sizes. This is costly not just for mobile end users, but also if you're hosting them.\"]}),`\n`,(0,n.jsx)(e.p,{children:\"If you want to use this technique and keep things simple I suggest using a small and optimized video just like the NYTimes does.\"}),`\n`,(0,n.jsxs)(e.p,{children:[\"For anyone interested in the performance aspects of this effect: I've tweeted about this here (with a demo site): \",(0,n.jsx)(e.a,{href:\"https://twitter.com/vnglst/status/1307681819635183616\",children:\"https://twitter.com/vnglst/status/1307681819635183616\"})]})]})}function h(a={}){let{wrapper:e}=a.components||{};return e?(0,n.jsx)(e,{...a,children:(0,n.jsx)(p,{...a})}):p(a)}return w(b);})();\n;return Component;",
  "readingTime": {
    "text": "6 min read",
    "minutes": 5.29,
    "time": 317400,
    "words": 1058
  }
}